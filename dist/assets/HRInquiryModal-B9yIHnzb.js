import{j as e,A as S,m as g}from"./framer-motion-Bj-qVJHm.js";import{r as o}from"./react-vendor-BF2H6KWW.js";import{X as k,J as C,$ as q,f as z,K as J}from"./ui-icons-IdX73eW9.js";const D=({isOpen:r,onClose:i,initialCategory:p="Job Seeker",initialSubject:c=""})=>{const[x,d]=o.useState(!1),[y,n]=o.useState(null),[m,b]=o.useState(null),[u,h]=o.useState(""),[t,f]=o.useState({name:"",email:"",phone:"",category:"Job Seeker",organization:"",experience:"",qualification:"",message:"",location:""});o.useEffect(()=>{r&&(f(s=>({...s,category:p,location:"",organization:"",experience:"",qualification:"",message:c?`Inquiry regarding: ${c}`:""})),n(null),b(null),h(""))},[r,p,c]);const l=s=>{f({...t,[s.target.name]:s.target.value})},j=s=>{s.target.files&&s.target.files[0]&&(b(s.target.files[0]),h(s.target.files[0].name))},N=async s=>{s.preventDefault(),d(!0),n(null);const v="https://infolexus.com/api/send-application";try{const a=new FormData;a.append("name",t.name),a.append("email",t.email),a.append("phone",t.phone),a.append("location",t.location),a.append("category",t.category);const w=t.category==="Job Seeker"?"mani":"support";if(a.append("recipientType",w),t.category==="Job Seeker"?(t.qualification&&a.append("qualification",t.qualification),t.experience&&a.append("experience",t.experience),a.append("position","HR Inquiry - Job Seeker")):(t.organization&&a.append("organization",t.organization),a.append("position",`HR Inquiry - ${t.category}`)),a.append("message",t.message),m&&a.append("attachment",m),(await fetch(v,{method:"POST",body:a})).ok)n("success"),d(!1),setTimeout(()=>{i(),n(null)},3e3);else throw new Error("Submission failed")}catch(a){console.error("Failed to send email:",a),n("error"),d(!1)}};return r?e.jsx(S,{children:r&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),e.jsxs(g.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"p-6 bg-indigo-900 text-white relative shrink-0",children:[e.jsx("button",{onClick:i,className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:e.jsx(k,{size:20})}),e.jsx("h2",{className:"text-2xl font-bold mb-1",children:t.category==="Job Seeker"?"Apply Now":"Enquire Now"}),e.jsx("p",{className:"text-blue-100 text-sm",children:t.category==="Job Seeker"?"Take the next step in your career.":"Let us help you find the best solutions."})]}),e.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:y==="success"?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-green-600",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(C,{size:32})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Request Sent!"}),e.jsx("p",{className:"text-slate-500",children:"We'll get back to you shortly."})]}):e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 uppercase mb-1",children:"I am a"}),e.jsxs("select",{name:"category",value:t.category,onChange:l,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 text-sm text-slate-900 font-medium",children:[e.jsx("option",{value:"Job Seeker",children:"Job Seeker"}),e.jsx("option",{value:"Company",children:"Company / Employer"}),e.jsx("option",{value:"College",children:"College / Institution"})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 uppercase mb-1",children:"Full Name"}),e.jsx("input",{type:"text",name:"name",required:!0,value:t.name,onChange:l,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 text-sm text-slate-900 placeholder:text-slate-400",placeholder:"Enter your name"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 uppercase mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",required:!0,value:t.email,onChange:l,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 text-sm text-slate-900 placeholder:text-slate-400",placeholder:"email@example.com"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 uppercase mb-1",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",required:!0,value:t.phone,onChange:l,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 text-sm text-slate-900 placeholder:text-slate-400",placeholder:"+91 98765 43210"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 uppercase mb-1",children:"Current Location"}),e.jsx("input",{type:"text",name:"location",required:!0,value:t.location,onChange:l,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 text-sm text-slate-900 placeholder:text-slate-400",placeholder:"City, State"})]})]}),t.category==="Job Seeker"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-4 duration-300",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 uppercase mb-1",children:"Qualification"}),e.jsx("input",{type:"text",name:"qualification",value:t.qualification,onChange:l,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 text-sm text-slate-900 placeholder:text-slate-400",placeholder:"e.g. B.Tech, MBA"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 uppercase mb-1",children:"Experience"}),e.jsxs("select",{name:"experience",value:t.experience,onChange:l,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 text-sm text-slate-900 font-medium",children:[e.jsx("option",{value:"",children:"Select Level"}),e.jsx("option",{value:"Fresher",children:"Fresher (0-1 yrs)"}),e.jsx("option",{value:"Junior",children:"Junior (1-3 yrs)"}),e.jsx("option",{value:"Mid-Level",children:"Mid-Level (3-5 yrs)"}),e.jsx("option",{value:"Senior",children:"Senior (5+ yrs)"})]})]}),e.jsx("div",{className:"col-span-1 md:col-span-2",children:e.jsxs("div",{className:"p-3 border border-dashed border-slate-300 rounded-lg bg-slate-50 text-center relative group hover:border-blue-400 transition-colors",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Resume Upload (PDF/Doc)"}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:j,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[e.jsx(q,{size:14,className:`text-slate-400 ${u?"text-blue-500":""}`}),u?e.jsx("span",{className:"text-xs font-bold text-blue-600 truncate max-w-[200px]",children:u}):e.jsx("span",{className:"text-slate-400 text-[10px] font-medium",children:"Click to upload"})]})]})})]}),(t.category==="Company"||t.category==="College")&&e.jsx("div",{className:"grid grid-cols-1 gap-4 animate-in fade-in slide-in-from-top-4 duration-300",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 uppercase mb-1",children:t.category==="Company"?"Company Name":"Institution Name"}),e.jsx("input",{type:"text",name:"organization",required:!0,value:t.organization,onChange:l,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 text-sm text-slate-900 placeholder:text-slate-400",placeholder:"Enter organization name"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 uppercase mb-1",children:"Message / Requirement"}),e.jsx("textarea",{name:"message",rows:"3",required:!0,value:t.message,onChange:l,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 text-sm text-slate-900 placeholder:text-slate-400",placeholder:"How can we help you?"})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full py-3.5 bg-gradient-to-r from-slate-900 to-slate-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.01] transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:hover:scale-100",children:x?e.jsxs(e.Fragment,{children:["Processing... ",e.jsx(z,{size:18,className:"animate-spin"})]}):e.jsxs(e.Fragment,{children:["Submit ",t.category==="Job Seeker"?"Application":"Inquiry"," ",e.jsx(J,{size:18})]})})]})})]})]})}):null};export{D as H};
