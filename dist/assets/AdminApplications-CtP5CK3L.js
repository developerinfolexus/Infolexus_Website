import{j as e}from"./framer-motion-Bj-qVJHm.js";import{r as a}from"./react-vendor-BF2H6KWW.js";import{ab as p,ac as g,ad as x,a as j,h as b,O as w,d as N,P as v,ae as y}from"./ui-icons-IdX73eW9.js";const L=()=>{const[m,h]=a.useState([]),[r,i]=a.useState(!0),[o,n]=a.useState(null),[l,f]=a.useState(""),d=async()=>{i(!0),n(null);try{const s=await fetch("https://infolexus.com/api/api/applications");if(!s.ok)throw new Error("Failed to fetch");const t=await s.json();h(t)}catch(s){console.error(s),n("Could not load applications. Make sure the backend is running.")}finally{i(!1)}};a.useEffect(()=>{d()},[]);const c=m.filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.position.toLowerCase().includes(l.toLowerCase())||s.email.toLowerCase().includes(l.toLowerCase())).sort((s,t)=>new Date(t.date||0)-new Date(s.date||0)),u=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return e.jsx("div",{className:"min-h-screen bg-slate-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8 font-sans",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Applications"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Manage and view received resumes."})]}),e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg text-slate-600 hover:bg-slate-50 hover:text-indigo-600 transition-colors shadow-sm font-medium",children:[e.jsx(p,{size:16,className:r?"animate-spin":""}),"Refresh"]})]}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(g,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl leading-5 bg-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm shadow-sm transition-all",placeholder:"Search by name, position, or email...",value:l,onChange:s=>f(s.target.value)})]}),o?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center text-red-700 flex flex-col items-center gap-2",children:[e.jsx(x,{size:32}),e.jsx("span",{className:"font-semibold",children:o})]}):r?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):c.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-12 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(j,{className:"h-8 w-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"No applications found"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Wait for candidates to apply."})]}):e.jsx("div",{className:"grid gap-6",children:c.map((s,t)=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 flex flex-col md:flex-row gap-6 hover:shadow-md transition-shadow group relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-blue-500 to-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-slate-100 flex items-center justify-center text-2xl font-black text-slate-400 uppercase",children:s.name?s.name.charAt(0):"?"})}),e.jsxs("div",{className:"flex-grow space-y-3",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors",children:s.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(b,{size:14}),s.position]}),e.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(w,{size:14}),s.experienceLevel," ",s.yearsOfExperience&&`(${s.yearsOfExperience} yrs)`]})]})]}),e.jsx("div",{className:"text-xs font-semibold text-slate-400 bg-slate-50 px-3 py-1 rounded-full border border-slate-100 whitespace-nowrap",children:u(s.date)})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm font-medium text-slate-600",children:[e.jsxs("a",{href:`mailto:${s.email}`,className:"flex items-center gap-2 hover:text-indigo-600 transition-colors",children:[e.jsx(N,{size:15}),s.email]}),e.jsxs("a",{href:`tel:${s.phone}`,className:"flex items-center gap-2 hover:text-indigo-600 transition-colors",children:[e.jsx(v,{size:15}),s.phone]})]}),s.message&&e.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm text-slate-600 italic border border-slate-100/50 mt-2",children:['"',s.message,'"']})]}),e.jsx("div",{className:"flex-shrink-0 flex flex-col justify-center border-t md:border-t-0 md:border-l border-slate-100 pt-4 md:pt-0 md:pl-6",children:s.resumePath?e.jsxs("a",{href:`https://infolexus.com/api${s.resumePath}`,target:"_blank",rel:"noopener noreferrer",className:"w-full md:w-auto flex items-center justify-center gap-2 bg-indigo-50 text-indigo-700 px-5 py-3 rounded-xl hover:bg-indigo-100 transition-colors font-bold text-sm",children:[e.jsx(y,{size:18}),"Download Resume"]}):e.jsxs("span",{className:"text-slate-400 text-sm font-medium flex items-center gap-2",children:[e.jsx(x,{size:16})," No Resume"]})})]},t))})]})})};export{L as default};
